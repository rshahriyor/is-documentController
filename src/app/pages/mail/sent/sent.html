<div class="flex items-center justify-between">
    <app-page-title [icon]="'pi pi-fw pi-send'" [title]="'Отправленные'"></app-page-title>
    <app-compose-button class="max-w-40 w-full"></app-compose-button>
</div>
<p-table [value]="messages()" [tableStyle]="{'min-width': '50rem'}" [paginator]="true" [rows]="10" [rowsPerPageOptions]="[5, 10, 20]" showGridlines>
    <ng-template #header>
        <tr>
            @for (item of cols; track $index) {
                <th>{{item.name}}</th>
            }
        </tr>
    </ng-template>
    <ng-template #body let-message>
        <tr>
            <td>{{message.fullName}}</td>
            <td class="max-w-xl">{{message.text.slice(0, 100)}}</td>
            <td>{{message.date | date:'dd/MM/yyyy hh:mm:ss'}}</td>
            <td (click)="dialog.set(true)" class="flex justify-center">
                <button pButton label="Посмотреть" icon="pi pi-eye" class="view cursor-pointer"></button>
            </td>
        </tr>
    </ng-template>
</p-table>

@if (dialog()) {
    <p-dialog header="Прочитанные человеки" (onHide)="dialog.set(false)" [dismissableMask]="true" [modal]="true"
    [(visible)]="dialog" [style]="{ width: '50rem' }" [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }">
</p-dialog>
}